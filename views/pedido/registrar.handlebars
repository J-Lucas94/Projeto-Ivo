<style>
    .input_clean {
        border-style: none;
    }
</style>
</head>

<div class="alert alert-success" role="alert" hidden>
    Registro realizado com sucesso !
</div>


<div class="container-fluid ">
    <div class="acoes">
    </div>
    <div class="">
        <div class="row">
            <div class="col-6 mt-3" id="header">
                <h1>Ivoclar</h1>
                <h2>IVOCLAR VIVADENT LTDA</h2>
                <p>Alamenda Caiapós, 723</p>
                <p>Centro Empresarial Tamboré - CEP: 06460-110</p>
                <p>Fone: (11)2424-7400</p>
                <h3>Barueri - São Paulo</h3>
            </div>


            <div class="col-6 mt-3 " id="header2">

                <div class="form-group">
                    <label>ID Pedido</label>
                    <input class="form-control" type="text" name="idPedido" id="idPedido" placeholder="ID Pedido"
                        value="{{pedido.id}}" required>


                </div>
                <form>
                    <div class="form-group">
                        <label>Vendedor</label>
                        <input class="form-control" type="text" name="vendedor" id="vendedor" placeholder="Vendedor..."
                            value="{{pedido.vendedor}}" required>
                        <small id="erro-vendedor" class="vermelho"></small>
                    </div>

                    <div class="form-group">
                        <label>Cód. Cliente</label>
                        <input class="form-control" type="text" name="cod_cliente" id="cod_cliente"
                            placeholder="Código do cliente..." value="{{pedido.cod_cliente}}" required>
                        <small id="erro-cod_cliente" class="vermelho"></small>
                    </div>

                    <div class="form-group">
                        <label>Loja Número</label>
                        <input class="form-control" type="text" name="loja_numero" id="loja_numero"
                            placeholder="Número da Loja..." value="{{pedido.loja_numero}}" required>
                        <small id="erro-loja_numero" class="vermelho"></small>
                    </div>

                    <div class="form-group">
                        <label>Data</label>
                        <input class="form-control" type="date" name="data" id="data" placeholder="Digite a Data..."
                            value="{{pedido.data}}" required>
                        <small id="erro-data" class="vermelho"></small>
                    </div>
                </form>


            </div>
        </div>
    </div>

    <div id="header3">

        <div>
            <div class="row mt-2 border border-black border-start-0 rounded-end">
                <div class="col-6">
                    <h6>CNPJ: 04.004.675/0001-60</h6>
                </div>
                <div class="col-6">
                    <h6>INSCR. ESTADUAL: 116314570.110</h6>
                </div>
            </div>
        </div>
    </div>

    <form action="">
        <div class="row">
            <div class="form-group col-12 mt-2 ">
                <label>Nome/ Razão Social: </label>
                <input class="form-control" type="text" name="razao_social" id="razao_social"
                    placeholder="Nome ou Razão Social..." value="{{pedido.razao_social}}" required>
                <small id="erro-razao_social" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>CEP</label>
                <input class="form-control" type="text" name="cep" id="cep" placeholder="Digite o CEP sem o traço..."
                    value="{{pedido.cep}}" required>
                <small id="erro-cep" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>Endereço</label>
                <input class="form-control" type="text" name="endereco" id="endereco"
                    placeholder="Digite o seu endereço..." value="{{pedido.endereco}}" required>
                <small id="erro-endereco" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>Bairro</label>
                <input class="form-control" type="text" name="bairro" id="bairro" placeholder="Digite o seu bairro..."
                    value="{{pedido.bairro}}" required>
                <small id="erro-bairro" class="vermelho"></small>
            </div>

            <div class="form-group col-2">
                <label>Municipio</label>
                <input class="form-control" type="text" name="municipio" id="municipio"
                    placeholder="Digite o seu municipio..." value="{{pedido.municipio}}" required>
                <small id="erro-municipio" class="vermelho"></small>
            </div>

            <div class="form-group col-2">
                <label>UF</label>
                <input class="form-control" type="text" name="uf" id="uf" placeholder="Estado..." value="{{pedido.uf}}"
                    required>
                <small id="erro-uf" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>E-mail</label>
                <input class="form-control" type="email" name="email" id="email" placeholder="Digite um E-mail..."
                    value="{{pedido.email}}" required>
                <small id="erro-email" class="vermelho"></small>
            </div>

            <div class="form-group col-2">
                <label>Fone/Fax</label>
                <input class="form-control" type="tel" name="fone" id="fone" placeholder="Telefone ou Fax..."
                    value="{{pedido.fone}}" required>
                <small id="erro-fone" class="vermelho"></small>
            </div>

            <div class="form-group col-2">
                <label>Contato</label>
                <input class="form-control" type="text" name="contato" id="contato" placeholder="Contato..."
                    value="{{pedido.contato}}" required>
                <small id="erro-contato" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>CNPJ/CPF</label>
                <input class="form-control" type="text" name="cpf" id="cpf" placeholder="CPF OU CNPJ..."
                    value="{{pedido.cpf}}" required>
                <small id="erro-cpf" class="vermelho"></small>
            </div>

            <div class="form-group col-8">
                <label>Inscrição Estadual</label>
                <input class="form-control" type="text" name="inscricao" id="inscricao"
                    placeholder="Inscrição Estadual..." value="{{pedido.inscricao}}" required>
                <small id="erro-inscricao" class="vermelho"></small>
            </div>

            <div class="form-group col-4">
                <label>Condição do Pagamento</label>
                <input class="form-control" type="text" name="cond_pagamento" id="cond_pagamento"
                    placeholder="Condição do Pagamento..." value="{{pedido.cond_pagamento}}" required>
                <small id="erro-cond_pagamento" class="vermelho"></small>
            </div>

            <div class="form-group col-8">
                <label>Transportadora</label>
                <input class="form-control" type="text" name="transportadora" id="transportadora"
                    placeholder="Transportadora..." value="{{pedido.transportadora}}" required>
                <small id="erro-transportadora" class="vermelho"></small>
            </div>

            <div class="form-group col-12">
                <label>Aplicar Desconto de Diferença de ICMS</label>
                <input class="form-check-input" type="checkbox" name="">
            </div>
        </div>
    </form>

    <div class="row">

        <div class="table1 col-12 mt-4">
            <div class="table-responsive">
                <table id="tabela" class="table table-responsive">
                    <thead>
                        <tr>
                            
                            <th id="erro-item">Item</th>
                            <th id="erro-produto">Produto</th>                            
                            <th id="erro-descricao">Descrição</th>
                            <th id="erro-gbu">GBU</th>
                            <th id="erro-valor_unit">Valor Unit</th>
                            <th>Desc1 </th>
                            <th id="erro-valor_unit1">Valor Unit 1</th>
                            <th>Desc2 </th>
                            <th id="erro-valor_unit2">Valor Unit 2</th>
                            <th>Desc Final </th>
                            <th id="erro-valor_unit3">Valor Unit 3</th>
                            <th id="erro-total">Total </th>
                            <th>Ações </th>

                        </tr>
                    </thead>


                    <tbody id="novalinha">

                        {{#if itens}}

                        {{#each itens}}
                        <tr>

                            <div>
                            <td><input id="item" class="item" type="text" value="{{this.item}}" required></td>
                            </div>
                            <td><input id="produto" class="produto" type="text" list="produtos" value="{{this.produto}}"
                                    required></td>
                            <td><input id="descricao" class="descricao" type="text" value="{{this.updatedAt}}" readonly>
                            </td>
                            <td><input id="gbu" class="gbu" style="text-align: right;" type="text" value="{{this.gbu}}"
                                    required>
                            </td>
                            <td><input id="valor_unit" class="valor_unit" style="text-align: right;" type="text"
                                    value="{{this.valor_unit}}" required></td>
                            <td><input id="desc1" class="desc1" style="text-align: right;" type="text"
                                    value="{{this.desc1}}">
                            </td>
                            <td><input id="valor_unit1" class="valor_unit1" style="text-align: right;" type="text"
                                    value="{{this.valor_unit1}}" required></td>
                            <td><input id="desc2" class="desc2" style="text-align: right;" type="text"
                                    value="{{this.desc2}}">
                            </td>
                            <td><input id="valor_unit2" class="valor_unit2" style="text-align: right;" type="text"
                                    value="{{this.valor_unit2}}" required></td>
                            <td><input id="desc_final" class="desc_final" style="text-align: right;" type="text"
                                    value="{{this.desc_final}}">

                            </td>
                            <td><input id="valor_unit3" class="valor_unit3" style="text-align: right;" type="text"
                                    value="{{this.valor_unit3}}" required></td>
                            <td><input id="total" class="total" style="text-align: right;" type="text"
                                    value="{{this.total}}" required>

                            </td>
                            <td class="acoes">
                                <span class="btn-danger">
                                    Excluir
                                </span>
                            </td>

                        </tr>

                        {{/each}}

                        {{else}}

                            <tr>

                            
                            <td><input id="item" class="item" type="text" value="1" required></td>
                            
                            <td><input id="produto" class="produto" type="text" pattern="{{produtos.cod_produto}}" list="produtos" value=""
                                    required></td>
                                    
                            <td><input id="descricao" class="descricao" type="text" value="" readonly>
                            </td>
                            <td><input id="gbu" class="gbu" style="text-align: right;" type="text" value=""
                                    required>
                            </td>
                            <td><input id="valor_unit" class="valor_unit" style="text-align: right;" type="text"
                                    value="" required></td>
                            <td><input id="desc1" class="desc1" style="text-align: right;" type="text"
                                    value="">
                            </td>
                            <td><input id="valor_unit1" class="valor_unit1" style="text-align: right;" type="text"
                                    value="" required></td>
                            <td><input id="desc2" class="desc2" style="text-align: right;" type="text"
                                    value="">
                            </td>
                            <td><input id="valor_unit2" class="valor_unit2" style="text-align: right;" type="text"
                                    value="" required></td>
                            <td><input id="desc_final" class="desc_final" style="text-align: right;" type="text"
                                    value="">

                            </td>
                            <td><input id="valor_unit3" class="valor_unit3" style="text-align: right;" type="text"
                                    value="" required></td>
                            <td><input id="total" class="total" style="text-align: right;" type="text"
                                    value="" required>

                            </td>
                            <td class="acoes">
                                <span class="btn-danger">
                                    Excluir
                                </span>
                            </td>

                        </tr>

                         {{/if}}

                    </tbody>
                    <button class="btn btn-primary col-1 m-center" onclick="adicionarCampo()" type="button">+</button>
                </table>

            </div>

        </div>

        <button id="form1" type="button" class="btn btn-success col-2 m-auto">Registrar</button>
    </div>
</div>


<datalist id="produtos">
    {{#each produto}}
    <option value="{{this.cod_produto}}">{{this.categoria}} - {{this.descricao}}</option>
    {{/each}}
</datalist>




<script>

    var controleCampo = 1;

    function adicionarCampo() {
        controleCampo++;
        console.log(controleCampo)
        document.getElementById('novalinha').insertAdjacentHTML('beforeend',
            '<tr id="campo' + controleCampo +
             '" ><td><input id="item" class="item" type="text" value="' + controleCampo +
              '"></td><td><input id="produto' + controleCampo +
              '"class="produto" type="text" list="produtos"></td><td><input id="descricao' + controleCampo +
              '" class="descricao" type="text" readonly></td><td><input id="gbu' + controleCampo +
              '" class="gbu" style="text-align: right;" type="text" value="{{this.gbu}}"></td><td><input id="valor_unit' + controleCampo +
              '" class="valor_unit" style="text-align: right;" type="text"value="{{this.valor_unit}}"></td><td><input id="desc1' + controleCampo +
              '" class="desc1" style="text-align: right;" type="text" value="{{this.desc1}}"></td><td><input id="valor_unit1' + controleCampo +
              '" class="valor_unit1" style="text-align: right;" type="text"value="{{this.valor_unit1}}"></td><td><input id="desc2' + controleCampo +
              '" class="desc2" style="text-align: right;" type="text" value="{{this.desc2}}"></td><td><input id="valor_unit2' + controleCampo +
              '" class="valor_unit2" style="text-align: right;" type="text"value="{{this.valor_unit2}}"></td><td><input id="desc_final' + controleCampo +
              '" class="desc_final" style="text-align: right;" type="text"value="{{this.desc_final}}"></td><td><input id="valor_unit3' + controleCampo +
              '" class="valor_unit3" style="text-align: right;" type="text"value="{{this.valor_unit3}}"></td><td><input id="total' + controleCampo +
              '" class="total" style="text-align: right;" type="text" value="{{this.total}}"></td></td><td class="acoes"><span class="btn-danger">Excluir</span></td></tr>'
        )
    }

    var tabela = document.querySelector('#tabela');

    tabela.addEventListener("click", ((event) => {
        var elementoClicado = event.target;
        if (elementoClicado.classList.contains("btn-danger")) {
            var celula = elementoClicado.parentNode;
            var linha = celula.parentNode;
            linha.remove();

        }
    }))



    //Fetch Pedido
    try {
        let form1 = document.querySelector('#form1')
        form1.addEventListener('click', async () => {
            let idPedido = document.querySelector('#idPedido').value
            let vendedor = document.querySelector('#vendedor').value
            let cod_cliente = document.querySelector('#cod_cliente').value
            let loja_numero = document.querySelector('#loja_numero').value
            let data = document.querySelector('#data').value
            let razao_social = document.querySelector('#razao_social').value
            let cep = document.querySelector('#cep').value
            let endereco = document.querySelector('#endereco').value
            let bairro = document.querySelector('#bairro').value
            let municipio = document.querySelector('#municipio').value
            let uf = document.querySelector('#uf').value
            let email = document.querySelector('#email').value
            let fone = document.querySelector('#fone').value
            let contato = document.querySelector('#contato').value
            let cpf = document.querySelector('#cpf').value
            let inscricao = document.querySelector('#inscricao').value
            let cond_pagamento = document.querySelector('#cond_pagamento').value
            let transportadora = document.querySelector('#transportadora').value

            if (vendedor == "") {
                document.getElementById('erro-vendedor').innerHTML = "Preencha o campo vendedor !";
                document.getElementById('vendedor').focus();
                return false;

            } else {
                document.getElementById('erro-vendedor').innerHTML = "";
            }

            if (cod_cliente == "") {
                document.getElementById('erro-cod_cliente').innerHTML = "Preencha o campo código do cliente !";
                document.getElementById('cod_cliente').focus();
                return false;
            } else {
                document.getElementById('erro-cod_cliente').innerHTML = "";
            }

            if (loja_numero == "") {
                document.getElementById('erro-loja_numero').innerHTML = "Preencha o campo número da loja !";
                document.getElementById('loja_numero').focus();
                return false;
            } else {
                document.getElementById('erro-loja_numero').innerHTML = "";
            }

            if (data == "") {
                document.getElementById('erro-data').innerHTML = "Preencha o campo data !";
                document.getElementById('data').focus();
                return false;
            } else {
                document.getElementById('erro-data').innerHTML = "";
            }

            if (razao_social == "") {
                document.getElementById('erro-razao_social').innerHTML = "Preencha o campo Razão social!";
                document.getElementById('razao_social').focus();
                return false;
            } else {
                document.getElementById('erro-razao_social').innerHTML = "";
            }

            if (cep == "") {
                document.getElementById('erro-cep').innerHTML = "Preencha o campo CEP !";
                document.getElementById('cep').focus();
                return false;
            } else {
                document.getElementById('erro-cep').innerHTML = "";
            }

            if (endereco == "") {
                document.getElementById('erro-endereco').innerHTML = "Preencha o campo Endereço !";
                document.getElementById('endereco').focus();
                return false;
            } else {
                document.getElementById('erro-endereco').innerHTML = "";
            }

            if (bairro == "") {
                document.getElementById('erro-bairro').innerHTML = "Preencha o campo bairro !";
                document.getElementById('bairro').focus();
                return false;
            } else {
                document.getElementById('erro-bairro').innerHTML = "";
            }

            if (municipio == "") {
                document.getElementById('erro-municipio').innerHTML = "Preencha o campo municipio !";
                document.getElementById('municipio').focus();
                return false;
            } else {
                document.getElementById('erro-municipio').innerHTML = "";
            }

            if (uf == "") {
                document.getElementById('erro-uf').innerHTML = "Preencha o campo UF !";
                document.getElementById('uf').focus();
                return false;
            } else {
                document.getElementById('erro-uf').innerHTML = "";
            }

            if (email == "") {
                document.getElementById('erro-email').innerHTML = "Preencha o campo E-mail !";
                document.getElementById('email').focus();
                return false;
            } else {
                document.getElementById('erro-email').innerHTML = "";
            }

            if (fone == "") {
                document.getElementById('erro-fone').innerHTML = "Preencha o campo Telefone !";
                document.getElementById('fone').focus();
                return false;
            } else {
                document.getElementById('erro-fone').innerHTML = "";
            }

            if (contato == "") {
                document.getElementById('erro-contato').innerHTML = "Preencha o campo contato !";
                document.getElementById('contato').focus();
                return false;
            } else {
                document.getElementById('erro-contato').innerHTML = "";
            }

            if (cpf == "") {
                document.getElementById('erro-cpf').innerHTML = "Preencha o campo CPF !";
                document.getElementById('cpf').focus();
                return false;
            } else {
                document.getElementById('erro-cpf').innerHTML = "";
            }

            if (inscricao == "") {
                document.getElementById('erro-inscricao').innerHTML = "Preencha o campo inscrição estadual !";
                document.getElementById('inscricao').focus();
                return false;
            } else {
                document.getElementById('erro-inscricao').innerHTML = "";
            }

            if (cond_pagamento == "") {
                document.getElementById('erro-cond_pagamento').innerHTML = "Preencha o campo condição de pagamento !";
                document.getElementById('cond_pagamento').focus();
                return false;
            } else {
                document.getElementById('erro-cond_pagamento').innerHTML = "";
            }

            if (transportadora == "") {
                document.getElementById('erro-transportadora').innerHTML = "Preencha o campo transportadora !";
                document.getElementById('transportadora').focus();
                return false;
            } else {
                document.getElementById('erro-transportadora').innerHTML = "";
            }

            //Item
            let item = document.querySelectorAll('.item')
            let produto = document.querySelectorAll('.produto')
            let gbu = document.querySelectorAll('.gbu')
            let valor_unit = document.querySelectorAll('.valor_unit')
            let desc1 = document.querySelectorAll('.desc1')
            let valor_unit1 = document.querySelectorAll('.valor_unit1')
            let desc2 = document.querySelectorAll('.desc2')
            let valor_unit2 = document.querySelectorAll('.valor_unit2')
            let desc_final = document.querySelectorAll('.desc_final')
            let valor_unit3 = document.querySelectorAll('.valor_unit3')
            let total = document.querySelectorAll('.total')

            var itens = []
            for (let i = 0; i < produto.length; i++) {
                var items = {
                    "item": (item[i].value == "", 1, item[i].value),
                    "produto": produto[i].value,
                    "gbu": gbu[i].value,
                    "valor_unit": valor_unit[i].value,
                    "desc1": desc1[i].value,
                    "valor_unit1": valor_unit1[i].value,
                    "desc2": desc2[i].value,
                    "valor_unit2": valor_unit2[i].value,
                    "desc_final": desc_final[i].value,
                    "valor_unit3": valor_unit3[i].value,
                    "total": total[i].value,
                }

                itens.push(items)


                if (items.item == "") {
                    document.getElementById('erro-item').innerHTML = "Preencha o campo item !";
                    document.getElementById('erro-item').style.color = 'red';
                    document.getElementById('item').focus();
                    return false;
                } else {
                    document.getElementById('erro-item').innerHTML = "Item";
                    document.getElementById('erro-item').style.color = 'black';
                }

                if (items.produto == "") {
                    document.getElementById('erro-produto').innerHTML = "Preencha o campo produto!";
                    document.getElementById('erro-produto').style.color = 'red';
                    document.getElementById('produto').focus();
                    return false;
                } else {
                    document.getElementById('erro-produto').innerHTML = "Produto";
                    document.getElementById('erro-produto').style.color = 'black';
                }

                if (items.gbu == "") {
                    document.getElementById('erro-gbu').innerHTML = "Preencha o campo gbu!";
                    document.getElementById('erro-gbu').style.color = 'red';
                    document.getElementById('gbu').focus();
                    return false;
                } else {
                    document.getElementById('erro-gbu').innerHTML = "GBU";
                    document.getElementById('erro-gbu').style.color = 'black';
                }

                if (items.valor_unit == "") {
                    document.getElementById('erro-valor_unit').innerHTML = "Preencha o campo valor_unit!";
                    document.getElementById('erro-valor_unit').style.color = 'red';
                    document.getElementById('valor_unit').focus();
                    return false;
                } else {
                    document.getElementById('erro-valor_unit').innerHTML = "Valor_Unit";
                    document.getElementById('erro-valor_unit').style.color = 'black';
                }

                if (items.valor_unit1 == "") {
                    document.getElementById('erro-valor_unit1').innerHTML = "Preencha o campo valor_unit1!";
                    document.getElementById('erro-valor_unit1').style.color = 'red';
                    document.getElementById('valor_unit1').focus();
                    return false;
                } else {
                    document.getElementById('erro-valor_unit1').innerHTML = "Valor_unit1";
                    document.getElementById('erro-valor_unit1').style.color = 'black';
                }

                 if (items.valor_unit2 == "") {
                    document.getElementById('erro-valor_unit2').innerHTML = "Preencha o campo valor_unit2!";
                    document.getElementById('erro-valor_unit2').style.color = 'red';
                    document.getElementById('valor_unit2').focus();
                    return false;
                } else {
                    document.getElementById('erro-valor_unit2').innerHTML = "Valor_unit2";
                    document.getElementById('erro-valor_unit2').style.color = 'black';
                }

                 if (items.valor_unit3 == "") {
                    document.getElementById('erro-valor_unit3').innerHTML = "Preencha o campo valor_unit3!";
                    document.getElementById('erro-valor_unit3').style.color = 'red';
                    document.getElementById('valor_unit3').focus();
                    return false;
                } else {
                    document.getElementById('erro-valor_unit3').innerHTML = "Valor_unit3";
                    document.getElementById('erro-valor_unit3').style.color = 'black';
                }

                 if (items.total == "") {
                    document.getElementById('erro-total').innerHTML = "Preencha o campo total!";
                    document.getElementById('erro-total').style.color = 'red';
                    document.getElementById('total').focus();
                    return false;
                } else {
                    document.getElementById('erro-total').innerHTML = "total";
                    document.getElementById('erro-total').style.color = 'black';
                }

            }

            const response = await fetch('/pedido/registrar', {
                method: 'POST',
                headers: {
                    "Content-Type": "application/json",
                    'Accept': 'application/json'
                },
                body: JSON.stringify({
                    idPedido, vendedor, cod_cliente, loja_numero, data, razao_social,
                    cep, endereco, bairro, municipio, uf, email, fone, contato, cpf, inscricao, cond_pagamento, transportadora,
                    itens
                })
            })

                .then((response) => response.json())
                
                .then((data) => {
                    console.log("esse é a data", data)

                if(data.message == "Produto não encontrado"){
                    swal("Error !", "Esse produto não foi encontrado: " + data.itemP, "error");
                }

                if(data.message == "Id não encontrado"){
                    swal("Error !", "Id não encontrado!", "error");
                }

                if(data.message == "Registro realizado com sucesso"){
                    swal("Sucesso !", "Registro realizado com sucesso", "success")
                }

                    if (data.id_pedido) {
                        document.getElementById('idPedido').value = data.id_pedido
                    }

                })

        })


    } catch (err) {
        console.log(`Erro: ${err}`)
    }

    //API VIACEP 

    const limparFormulario = (endereco) => {
        document.querySelector('#bairro').value = '';
        document.querySelector('#municipio').value = '';
        document.querySelector('#uf').value = '';
        document.querySelector('#endereco').value = '';
    }

    const preencherFormulario = (endereco) => {
        document.querySelector('#bairro').value = endereco.bairro;
        document.querySelector('#municipio').value = endereco.localidade;
        document.querySelector('#uf').value = endereco.uf;
        document.querySelector('#endereco').value = endereco.logradouro;

    }

    const cepValido = (cep) =>  cep.length == 8;

    const pesquisarCep = async () => {
        limparFormulario();
        const cep = document.querySelector('#cep').value;
        const url = `https://viacep.com.br/ws/${cep}/json/`;

        if (cepValido(cep)) {
            const dados = await fetch(url);
            const endereco = await dados.json();

            if (endereco.hasOwnProperty('erro')) {
                document.querySelector('#endereco').disabled = true;
                document.querySelector('#bairro').disabled = true;
                document.querySelector('#municipio').disabled = true;
                document.querySelector('#uf').disabled = true;


            } else {
                document.querySelector('#endereco').disabled = false;
                document.querySelector('#bairro').disabled = false;
                document.querySelector('#municipio').disabled = false;
                document.querySelector('#uf').disabled = false;
                preencherFormulario(endereco);

            }

        } else {
            document.querySelector('#endereco').disabled = true;
            document.querySelector('#bairro').disabled = true;
            document.querySelector('#municipio').disabled = true;
            document.querySelector('#uf').disabled = true;

        }
    }

    document.querySelector('#cep')
        .addEventListener('focusout', pesquisarCep);


    window.addEventListener('load', function () {

    });    
</script>
